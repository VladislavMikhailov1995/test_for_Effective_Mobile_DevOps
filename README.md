# üîç Test Process Monitoring Script (systemd + bash)

–°–∫—Ä–∏–ø—Ç –∏ systemd-—é–Ω–∏—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ `test` –≤ Linux. –†–µ—à–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É.

---

## üìã –ß—Ç–æ –¥–µ–ª–∞–µ—Ç

- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–ø—É—â–µ–Ω –ª–∏ –ø—Ä–æ—Ü–µ—Å—Å —Å –∏–º–µ–Ω–µ–º `test`.
- –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –∞–∫—Ç–∏–≤–µ–Ω ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTTPS-–∑–∞–ø—Ä–æ—Å –Ω–∞ `https://test.com/monitoring/test/api`.
- –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –±—ã–ª –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ –ª–æ–≥ `/var/log/monitoring.log`.
- –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî —Ç–∞–∫–∂–µ –ª–æ–≥–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ.

---

## üóÇÔ∏è –°–æ—Å—Ç–∞–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

monitor_test.sh # –æ—Å–Ω–æ–≤–Ω–æ–π bash-—Å–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
monitor-test.service # systemd unit –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞
monitor-test.timer # systemd —Ç–∞–π–º–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã:
   ```bash
   sudo cp monitor_test.sh /usr/local/bin/
   sudo chmod +x /usr/local/bin/monitor_test.sh

   sudo cp monitor-test.service /etc/systemd/system/
   sudo cp monitor-test.timer /etc/systemd/system/

2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ systemd –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Ç–∞–π–º–µ—Ä:
   ```bash
   sudo systemctl daemon-reload
   sudo systemctl enable --now monitor-test.timer

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É:
   ```bash
   systemctl status monitor-test.timer
   journalctl -u monitor-test.service

## üìÑ –ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤ (/var/log/monitoring.log)

2025-06-24 10:00:01 - –û–±–Ω–∞—Ä—É–∂–µ–Ω –∑–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ test. PID: 1245
2025-06-24 10:01:01 - –ü—Ä–æ—Ü–µ—Å—Å test –±—ã–ª –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω. –ù–æ–≤—ã–π PID: 1302
2025-06-24 10:03:01 - –°–µ—Ä–≤–µ—Ä –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ https://test.com/monitoring/test/api –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.

## ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

Linux-—Å–∏—Å—Ç–µ–º–∞ —Å systemd
curl —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ
–ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (sudo)

## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

–§–∞–π–ª PID —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ /var/run/monitor_test.pid.
–í—Å–µ –ª–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ /var/log/monitoring.log.
–ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å test –Ω–µ –∑–∞–ø—É—â–µ–Ω ‚Äî —Å–∫—Ä–∏–ø—Ç –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç.
